<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mexico Trade Network: LIGIE 2025</title>
    <style>
        /* Base Styling */
        body { 
            font-family: 'Segoe UI', sans-serif; 
            padding: 10px; 
            background: #f0f2f5; 
            text-align: center; 
            color: #2C3E50; 
            margin: 0;
        }
        
        .container { 
            max-width: 1200px; 
            margin: 20px auto; 
            background: white; 
            padding: 30px; 
            border-radius: 12px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.08); 
            width: 95%;
            box-sizing: border-box;
        }
        
        h2 { border-bottom: 2px solid #2E86AB; display: inline-block; padding-bottom: 5px; margin-bottom: 30px; }
        .section-header { text-align: left; margin: 40px 0 15px 0; font-weight: bold; color: #2E86AB; text-transform: uppercase; letter-spacing: 1px; }

        .intro-box { background: #eef7fa; border-left: 5px solid #2E86AB; padding: 20px; text-align: left; margin-bottom: 30px; border-radius: 4px; }
        
        /* Dropdown: Adaptive width */
        select { 
            width: 100%; 
            max-width: 500px; 
            padding: 12px; 
            margin-bottom: 20px; 
            border: 2px solid #2E86AB; 
            border-radius: 8px; 
            font-size: 16px; 
            background: white; 
        }

        #mainImage { 
            max-width: 100%; 
            height: auto; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            display: none; 
            margin: 20px auto; 
        }

        /* DYNAMIC GRID: Grows on desktop, stacks on mobile */
        .chart-grid { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 20px; 
            justify-content: center;
        }

        .chart-card { 
            background: #fff; 
            padding: 15px; 
            border: 1px solid #eee; 
            border-radius: 10px; 
            flex: 1 1 450px; /* This makes images large on desktop */
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .chart-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 8px 25px rgba(0,0,0,0.1); 
        }

        .chart-card img { 
            width: 100%; 
            height: auto; 
            border-radius: 5px; 
            cursor: pointer;
        }

        /* Tables */
        .table-frame { width: 100%; height: 550px; border: 1px solid #eee; border-radius: 10px; margin-bottom: 20px; }

        .method-note { background: #fdfefe; border: 1px dashed #7f8c8d; padding: 20px; text-align: left; margin-top: 40px; border-radius: 8px; font-size: 14px; }
        .footer { margin-top: 50px; font-size: 12px; color: #95a5a6; }
        a { color: #2E86AB; text-decoration: none; font-weight: bold; }

        /* Responsive Breakpoints */
        @media (max-width: 600px) {
            .container { padding: 15px; }
            .chart-card { flex: 1 1 100%; } /* One image per row on small phones */
            h2 { font-size: 1.4rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <h2>LIGIE Reform 2025 Mexico's Trade Network Dashboard</h2>

    <div class="intro-box">
        <strong>Executive Summary:</strong> On December 29, 2025, the Mexican government published a comprehensive reform to the Law of the General Import and Export Taxes (LIGIE). Effective January 1, 2026, the decree increases MFN duties on 1,463 tariff lines.
        <br><br>
        <a href="https://www.diputados.gob.mx/LeyesBiblio/ref/ligie_2022/LIGIE_2022_ref02_29dic25.pdf" target="_blank">View Official Decree (PDF)</a>
    </div>
    
    <div class="section-header">1. Interactive Supply Chain Exploration</div>
    <select id="networkSelector" onchange="changeNetwork()">
        <option value="">-- Select a Product --</option>
        <option value="Star_Z_ALUMINIUMPRODUCTS.png">ALUMINIUM PRODUCTS</option>
        <option value="Star_Z_APPARELKNITTED.png">APPAREL KNITTED</option>
        <option value="Star_Z_APPARELTEXTILE.png">APPAREL TEXTILE</option>
        <option value="Star_Z_ARTICLESFABRIC.png">ARTICLES FABRIC</option>
        <option value="Star_Z_ARTICLESMETAL.png">ARTICLES METAL</option>
        <option value="Star_Z_CARPETS.png">CARPETS</option>
        <option value="Star_Z_CERAMIC.png">CERAMIC</option>
        <option value="Star_Z_COATEDTEXTILES.png">COATED TEXTILES</option>
        <option value="Star_Z_COTTON.png">COTTON</option>
        <option value="Star_Z_ELECTRICALMACHINERY.png">ELECTRICAL MACHINERY</option>
        <option value="Star_Z_FIBRES.png">FIBRES</option>
        <option value="Star_Z_FURNITURE.png">FURNITURE</option>
        <option value="Star_Z_GLASS.png">GLASS</option>
        <option value="Star_Z_IRONPRODUCTS.png">IRON PRODUCTS</option>
        <option value="Star_Z_IRONSTEEL.png">IRON STEEL</option>
        <option value="Star_Z_KNITTEDFABRICS.png">KNITTED FABRICS</option>
        <option value="Star_Z_LEATHER.png">LEATHER</option>
        <option value="Star_Z_MACHINERY.png">MACHINERY</option>
        <option value="Star_Z_MEDICALEQUIPMENT.png">MEDICAL EQUIPMENT</option>
        <option value="Star_Z_MISCELLANEOUS.png">MISCELLANEOUS</option>
        <option value="Star_Z_OILS.png">OILS</option>
        <option value="Star_Z_PAPER.png">PAPER</option>
        <option value="Star_Z_PLASTICS.png">PLASTICS</option>
        <option value="Star_Z_RUBBER.png">RUBBER</option>
        <option value="Star_Z_SILK.png">SILK</option>
        <option value="Star_Z_SOAP.png">SOAP</option>
        <option value="Star_Z_SYNTHETICS.png">SYNTHETICS</option>
        <option value="Star_Z_TOYS.png">TOYS</option>
        <option value="Star_Z_TRACTORS.png">TRACTORS</option>
        <option value="Star_Z_TUFTEDTEXTILES.png">TUFTED TEXTILES</option>
        <option value="Star_Z_VEGFIBERS.png">VEG FIBERS</option>
        <option value="Star_Z_WADDING.png">WADDING</option>
        <option value="Star_Z_WATERPROOFFOOTWEAR.png">WATERPROOF FOOTWEAR</option>
        <option value="Star_Z_WOOL.png">WOOL</option>
    </select>

    <div id="errorDisplay" style="color:red; display:none;">Image not found.</div>
    <img id="mainImage" src="" alt="Network Plot">

    <div class="section-header">2. Market Macro Analysis</div>
    <div class="chart-grid">
        <div class="chart-card"><strong>Import Trends</strong><img src="Mexico_Final_Z_Networks/p1.png" onclick="window.open(this.src)"></div>
        <div class="chart-card"><strong>Tariff Exposure</strong><img src="Mexico_Final_Z_Networks/p2.png" onclick="window.open(this.src)"></div>
        <div class="chart-card"><strong>Non-FTA Imports</strong><img src="Mexico_Final_Z_Networks/p3.png" onclick="window.open(this.src)"></div>
        <div class="chart-card"><strong>Reform Vulnerability</strong><img src="Mexico_Final_Z_Networks/p4.png" onclick="window.open(this.src)"></div>
    </div>

    <div class="section-header">3. Data Tables</div>
    <iframe class="table-frame" src="Mexico_Final_Z_Networks/risk_table.html"></iframe>
    <iframe class="table-frame" src="Mexico_Final_Z_Networks/tariff_table.html"></iframe>
    <iframe class="table-frame" src="Mexico_Final_Z_Networks/product_table.html"></iframe>

    <div class="method-note">
        <h3>Methodological Note: Risk Simplification</h3>
        This analysis provides a baseline tariff risk assessment but excludes non-tariff barriers and specific RTA rules of origin.
        <br>Contact: <a href="mailto:fernanda.chimahernandez@gmail.com">fernanda.chimahernandez@gmail.com</a>
    </div>

    <div class="footer">
        Data Source: BACI (2024) | Analysis by Fernanda Chima
    </div>
</div>

<script>
    function changeNetwork() {
        const selector = document.getElementById('networkSelector');
        const img = document.getElementById('mainImage');
        const error = document.getElementById('errorDisplay');
        const folder = "Mexico_Final_Z_Networks/"; 

        if (selector.value === "") {
            img.style.display = "none";
            return;
        }

        img.src = folder + selector.value;
        img.style.display = "block";
        error.style.display = "none";
        img.onerror = () => { img.style.display = "none"; error.style.display = "block"; };
    }
</script>

</body>
</html>
